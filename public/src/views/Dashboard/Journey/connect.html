<div wizard steps='9' final-step-callback='PrepData'>
    <div ng-if='Getting' class="c-abs-loading"><img src="/build/images/loading.gif"></div>
    <div ng-if="!Getting" class="row">
        <div class="col-lg-12">
            <div class="hpanel">
                <div class="panel-body">
                  <h3 title="{{subgraph.nodes[uuid].properties.title}}">Workshop Components <a href="" title="close" ng-click="cancel('Workshop')" class="fa fa-times pull-right" style="color:#777"></a></h3>
                  <small>Components with * are required</small>
                  <br><br>
                    <div class="text-center m-b-md">
                        <a ng-click="wizard.show($index+1)" class="btn" ng-class="{ 'btn-primary': step == $index+1, 'btn-default': step != $index+1}"
                            ng-repeat='title in ["*Stages","*Personas","*Note Types","Strategy","Capability", "KPI","Product","Audiences","Facilitators"]'
                            ng-show="$root.Person.role == 'tenant'">{{title}}</a>

                        <a ng-click="wizard.show($index+1)" class="btn" ng-class="{ 'btn-primary': step == $index+1, 'btn-default': step != $index+1}"
                            ng-repeat='title in ["*Stages","*Personas","*Note Types","Product","Strategy","Facilitators","KPI"]'
                            ng-show="$root.Person.role == 'admin'">{{title}}</a>
                    </div>

                </div>

                <div class="panel-body">
                  <form name="simpleForm" novalidate id="simpleForm" ng-if="$root.Person.role == 'tenant'">
                    <div class="text-right m-t-xs">
                        <button ng-click="cancel()" class="btn btn-default">Cancel</button>
                        <button ng-click="submit()" class="btn btn-success" >Save</button>
                    </div>
                      <div ng-show="step == 1" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                              label='"Stage"' type='"journey_stages"'></multi-subscriber>
                      </div>
                      <div ng-show="step == 2" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                              label='"Persona"' type='"journey_persona"'></multi-subscriber>
                      </div>
                      <div ng-show="step == 3" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                              label='"Interaction"' type='"journey_interactions"'></multi-subscriber>
                      </div>
                      <div ng-show="step == 4" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                              label='"Strategy"' type='"journey_strategy"'></multi-subscriber>
                      </div>
                      <div ng-show="step == 5" class="p-m row">
                              <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                                  label='"Capability"' type='"journey_capability"'></multi-subscriber>
                          </div>
                      <div ng-show="step == 6" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                              label='"Kpi"' type='"journey_kpis"'></multi-subscriber>
                      </div>
                      <div ng-show="step == 7" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                              type='"journey_product"' label='"Product"'></multi-subscriber>
                      </div>
                      <div ng-show="step == 8" class="p-m row">
                          <multi-subscriber-for-audience subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                              label='"Audience"' type='"journey_audiences"'></multi-subscriber-for-audience>
                      </div>

                      <div ng-show="step == 9" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                              label='"Person"' type='"facilitator"'></multi-subscriber>
                      </div>
                      <div class="text-right m-t-xs">
                          <!-- <button ng-click="cancel()" class="btn btn-default">Cancel</button> -->
                          <!-- <button ng-click="wizard.prev()" ng-disabled="step == 1" class="btn btn-default">Previous</button>
                          <button ng-click="wizard.next()" ng-disabled="step == steps" ng-hide="step == steps" class="btn btn-default">Next</button> -->
                          <!-- <button ng-click="submit()" class="btn btn-success" >Save</button> -->
                      </div>
                  </form>

                  <!-- non-tenant view -->
                    <form name="simpleForm" novalidate id="simpleForm" ng-if="!$root.Person.role || $root.Person.role != 'tenant'">
                      <div class="text-right m-t-xs">
                          <button ng-click="cancel()" class="btn btn-default">Cancel</button>
                          <button ng-click="submit()" class="btn btn-success" >Save</button>
                      </div>
                        <div ng-show="step == 1" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                          label='"Stage"' type='"journey_stages"'></multi-subscriber>
                        </div>
                        <div ng-show="step == 2" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                          label='"Persona"' type='"journey_persona"'></multi-subscriber>
                        </div>
                        <div ng-show="step == 3" class="p-m row">
                          <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                          label='"Interaction"' type='"journey_interactions"'></multi-subscriber>
                        </div>
                        <div ng-show="step == 4" class="p-m row">
                            <single-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                                type='"journey_product"' label='"Product"'></single-subscriber>
                        </div>

                        <div ng-show="step == 5" class="p-m row">
                            <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                                label='"Strategy"' type='"journey_strategy"'></multi-subscriber>
                        </div>

                        <div ng-show="step == 6" class="p-m row">
                            <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                                label='"Person"' type='"facilitator"'></multi-subscriber>
                        </div>
                        <div ng-show="step == 7" class="p-m row">
                            <multi-subscriber subgraph='journey_connections' original='initial_journey_connections' pivot='journey_connections.node_label_index.Journey[0]'
                                label='"Kpi"' type='"journey_kpis"'></multi-subscriber>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
